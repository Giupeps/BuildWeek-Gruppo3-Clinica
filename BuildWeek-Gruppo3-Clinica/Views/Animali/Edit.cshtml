@model BuildWeek_Gruppo3_Clinica.Models.Anagr_Animale

@{
    ViewBag.Title = "Edit";
}
<div class=" container gBorder p-4 mx-auto mb-5">
<h2>Edit</h2>


@using (Html.BeginForm("Edit", "Animali", FormMethod.Post, new { @enctype = "multipart/form-data" }))
{
                @Html.AntiForgeryToken()

<div class="form-horizontal">
    <h4>Anagrafica animale</h4>
    <hr />
    @Html.ValidationSummary(true, "", new { @class = "text-danger" })
    @Html.HiddenFor(model => model.IdAnimale)

    <div class="form-group">
        @Html.LabelFor(model => model.Nome, htmlAttributes: new { @class = "control-label col-md-2" })
        <div class="col-md-10">
            @Html.EditorFor(model => model.Nome, new { htmlAttributes = new { @class = "form-control" } })
            @Html.ValidationMessageFor(model => model.Nome, "", new { @class = "text-danger" })
        </div>
    </div>

    <div class="form-group">
        @Html.LabelFor(model => model.IdTipo, "IdTipo", htmlAttributes: new { @class = "control-label col-md-2" })
        <div class="col-md-10">
            @Html.DropDownList("IdTipo", null, htmlAttributes: new { @class = "form-control" })
            @Html.ValidationMessageFor(model => model.IdTipo, "", new { @class = "text-danger" })
        </div>
    </div>

    <div class="form-group">
        @Html.LabelFor(model => model.Colore, htmlAttributes: new { @class = "control-label col-md-2" })
        <div class="col-md-10">
            @Html.EditorFor(model => model.Colore, new { htmlAttributes = new { @class = "form-control" } })
            @Html.ValidationMessageFor(model => model.Colore, "", new { @class = "text-danger" })
        </div>
    </div>

    <div class="form-group">
        @Html.LabelFor(model => model.DataNascita, htmlAttributes: new { @class = "control-label col-md-2" })
        <div class="col-md-10">
            @Html.EditorFor(model => model.DataNascita, new { htmlAttributes = new { @class = "form-control", type="date" } })
            @Html.ValidationMessageFor(model => model.DataNascita, "", new { @class = "text-danger" })
        </div>
    </div>

    <div class="form-group">
        @Html.LabelFor(model => model.NrMicrochip, htmlAttributes: new { @class = "control-label col-md-2" })
        <div class="col-md-10">
            @Html.EditorFor(model => model.NrMicrochip, new { htmlAttributes = new { @class = "form-control" } })
            @Html.ValidationMessageFor(model => model.NrMicrochip, "", new { @class = "text-danger" })
        </div>
    </div>

    <div class="form-group">
        @Html.LabelFor(model => model.Proprietario, htmlAttributes: new { @class = "control-label col-md-2" })
        <div class="col-md-10">
            <div class="checkbox">
                @Html.CheckBoxFor(model => model.Proprietario, htmlAttributes: new { @class = "CkbOwner" })
                @Html.ValidationMessageFor(model => model.Proprietario, "", new { @class = "text-danger" })
            </div>
        </div>
    </div>
    <div id="display-Prop" class="d-none">
        <div class="form-group">
            @Html.LabelFor(model => model.NomeProprietario, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.NomeProprietario, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.NomeProprietario, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.Indirizzo, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.Indirizzo, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.Indirizzo, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.Contatto, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.Contatto, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.Contatto, "", new { @class = "text-danger" })
            </div>
        </div>
    </div>
    <div id="display-Pic" class="d-none">
        <div class="form-group">
            @Html.LabelFor(model => model.FileFoto, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.TextBoxFor(model => model.FileFoto, new { @class = "form-control", @type = "file", @accept = "image/jpg, image/jpeg, image/png" })
                @Html.ValidationMessageFor(model => model.Foto, "", new { @class = "text-danger" })
            </div>
        </div>
    </div>
        <div class="form-group mt-3">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" value="Salva modifiche" class="button bgprimary" />
            </div>
        </div>
    </div>
    }
    </div>

    <div class="visually-hidden">
        @Html.ActionLink("Torna a cartelle pazienti", "Index")
    </div>

    @section Scripts {
        @Scripts.Render("~/bundles/jqueryval")
    }


    <script type="text/javascript">
        $(document).ready(function () {
            if ($(".CkbOwner").is(":checked")) {
                $("#display-Prop").toggleClass("d-none")
            } else {
                $("#display-Pic").toggleClass("d-none")
            }
            $(".CkbOwner").change(function () {
                if ($(".CkbOwner").is(":checked")) {
                    $("#display-Prop").toggleClass("d-none")
                    $("#display-Pic").toggleClass("d-none")
                } else {
                    $("#display-Prop").toggleClass("d-none")
                    $("#display-Pic").toggleClass("d-none")
                }
            });
        })
    </script>
